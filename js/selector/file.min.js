!function(e,l){'use strict';function n(e,t,o){ConcreteFileSelector.call(this,e,t),this.callback=o}((n.prototype=createObject(ConcreteFileSelector.prototype)).constructor=n).prototype.loadFile=function(e,o){var n=this;if('object'==typeof e)return n.loadHtml(e);n.$element.html(n._loadingTemplate({inputName:n.options.inputName,fID:e})),ConcreteFileManager.getFileDetails(e,function(e){var t=e.files[0];n.loadHtml(t),n.callback&&n.callback(e),o&&o(e)})},n.prototype.loadHtml=function(o){var n=this;n.$element.html(n._fileLoadedTemplate({inputName:n.options.inputName,file:o})),n.$element.find('.ccm-file-selector-file-selected').on('click',function(e){var t=o.treeNodeMenu;t&&new ConcreteFileMenu(l(this),{menuLauncherHoverClass:'ccm-file-manager-menu-item-hover',menu:l(t),handle:'none',container:n}).show(e)})},n.prototype.clear=function(){this.$element.html(this._chooseTemplate)},l.fn.xanFileSelector=function(e,t){if(n.prototype.hasOwnProperty(e)&&'loadFile'===e)return n.prototype.loadFile.apply(l(this).data('xanFileSelector'),t);if('object'==typeof e||!e){if(0===this.length||1<this.length)return this;var o=new n(l(this),e,t);return l(this).data('xanFileSelector',o),this}l.error('Method '+e+' does not exist on jQuery.xanFileSelector')},e.XanFileSelector=n}(window,$);